var app=app||{};app.ResultsView=Backbone.View.extend({tagName:"li",template:_.template($("#result-item-template").html()),events:{click:"deleteResultItem"},initialize:function(){this.$input=this.$("#search"),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"destroy",this.addOne)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},deleteResultItem:function(){this.model.destroy()},addOne:function(a){var b=a.get("name"),c=b.split(" "),d=c[0]+" "+c[1]+"...";d=d.replace(",...","..."),app.Foods.create({name:d,calories:a.get("calories"),total_fat:a.get("total_fat")}),this.$input.val(""),app.Results.reset()}});